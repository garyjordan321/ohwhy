!function(){var e,t={4821:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},8401:function(e){e.exports={CASE_SENSITIVE_TAG_NAMES:["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]}},8166:function(e,t,n){var r="html",o="head",a="body",i=/<([a-zA-Z]+[0-9]?)/,c=/<head.*>/i,u=/<body.*>/i,s=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"==typeof window.DOMParser){var f=new window.DOMParser;s=l=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),f.parseFromString(e,"text/html")}}if(document.implementation){var p=n(1594).isIE,d=document.implementation.createHTMLDocument(p()?"html-dom-parser":void 0);s=function(e,t){return t?(d.documentElement.getElementsByTagName(t)[0].innerHTML=e,d):(d.documentElement.innerHTML=e,d)}}var m,y=document.createElement("template");y.content&&(m=function(e){return y.innerHTML=e,y.content.childNodes}),e.exports=function(e){var t,n,f,p,d=e.match(i);switch(d&&d[1]&&(t=d[1].toLowerCase()),t){case r:return n=l(e),c.test(e)||(f=n.getElementsByTagName(o)[0])&&f.parentNode.removeChild(f),u.test(e)||(f=n.getElementsByTagName(a)[0])&&f.parentNode.removeChild(f),n.getElementsByTagName(r);case o:case a:return p=s(e).getElementsByTagName(t),u.test(e)&&c.test(e)?p[0].parentNode.childNodes:p;default:return m?m(e):s(e,a).getElementsByTagName(a)[0].childNodes}}},307:function(e,t,n){var r=n(8166),o=n(1594).formatDOM,a=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(a);return n&&n[1]&&(t=n[1]),o(r(e),null,t)}},1594:function(e,t,n){for(var r,o=n(8401),a=n(5538),i=o.CASE_SENSITIVE_TAG_NAMES,c=a.Comment,u=a.Element,s=a.ProcessingInstruction,l=a.Text,f={},p=0,d=i.length;p<d;p++)r=i[p],f[r.toLowerCase()]=r;function m(e){for(var t,n={},r=0,o=e.length;r<o;r++)n[(t=e[r]).name]=t.value;return n}function y(e){return function(e){return f[e]}(e=e.toLowerCase())||e}e.exports={formatAttributes:m,formatDOM:function e(t,n,r){n=n||null;for(var o=[],a=0,i=t.length;a<i;a++){var f,p=t[a];switch(p.nodeType){case 1:(f=new u(y(p.nodeName),m(p.attributes))).children=e(p.childNodes,f);break;case 3:f=new l(p.nodeValue);break;case 8:f=new c(p.nodeValue);break;default:continue}var d=o[a-1]||null;d&&(d.next=f),f.parent=n,f.prev=d,f.next=null,o.push(f)}return r&&((f=new s(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=o[0]||null,f.parent=n,o.unshift(f),o[1]&&(o[1].prev=o[0])),o},isIE:function(){return/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},2670:function(e,t,n){var r=n(9239),o=n(3683),a=n(307);a="function"==typeof a.default?a.default:a;var i={lowerCaseAttributeNames:!1};function c(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return""===e?[]:r(a(e,(t=t||{}).htmlparser2||i),t)}c.domToReact=r,c.htmlToDOM=a,c.attributesToProps=o,c.Element=n(5538).Element,e.exports=c,e.exports.default=c},3683:function(e,t,n){var r=n(8701),o=n(4848);function a(e){return r.possibleStandardNames[e]}e.exports=function(e){var t,n,i,c,u,s={},l=(e=e||{}).type&&{reset:!0,submit:!0}[e.type];for(t in e)if(i=e[t],r.isCustomAttribute(t))s[t]=i;else if(c=a(n=t.toLowerCase()))switch(u=r.getPropertyInfo(c),"checked"!==c&&"value"!==c||l||(c=a("default"+n)),s[c]=i,u&&u.type){case r.BOOLEAN:s[c]=!0;break;case r.OVERLOADED_BOOLEAN:""===i&&(s[c]=!0)}else o.PRESERVE_CUSTOM_ATTRIBUTES&&(s[t]=i);return o.setStyleProp(e.style,s),s}},9239:function(e,t,n){var r=n(8379),o=n(3683),a=n(4848),i=a.setStyleProp,c=a.canTextBeChildOfNode;function u(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&a.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var a,s,l,f,p,d=(n=n||{}).library||r,m=d.cloneElement,y=d.createElement,h=d.isValidElement,v=[],g="function"==typeof n.replace,b=n.trim,T=0,x=t.length;T<x;T++)if(a=t[T],g&&h(l=n.replace(a)))x>1&&(l=m(l,{key:l.key||T})),v.push(l);else if("text"!==a.type){switch(f=a.attribs,u(a)?i(f.style,f):f&&(f=o(f)),p=null,a.type){case"script":case"style":a.children[0]&&(f.dangerouslySetInnerHTML={__html:a.children[0].data});break;case"tag":"textarea"===a.name&&a.children[0]?f.defaultValue=a.children[0].data:a.children&&a.children.length&&(p=e(a.children,n));break;default:continue}x>1&&(f.key=T),v.push(y(a.name,f,p))}else{if((s=!a.data.trim().length)&&a.parent&&!c(a.parent))continue;if(b&&s)continue;v.push(a.data)}return 1===v.length?v[0]:v}},4848:function(e,t,n){var r=n(8379),o=n(1618).default,a={reactCompat:!0},i=r.version.split(".")[0]>=16,c=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:i,invertObject:function(e,t){if(!e||"object"!=typeof e)throw new TypeError("First argument must be an object");var n,r,o="function"==typeof t,a={},i={};for(n in e)r=e[n],o&&(a=t(n,r))&&2===a.length?i[a[0]]=a[1]:"string"==typeof r&&(i[r]=n);return i},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!=e)try{t.style=o(e,a)}catch(e){t.style={}}},canTextBeChildOfNode:function(e){return!c.has(e.name)},elementsWithNoTextChildren:c}},6299:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,u=/^\s+|\s+$/g,s="";function l(e){return e?e.replace(u,s):s}e.exports=function(e,u){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];u=u||{};var f=1,p=1;function d(e){var t=e.match(n);t&&(f+=t.length);var r=e.lastIndexOf("\n");p=~r?e.length-r:p+e.length}function m(){var e={line:f,column:p};return function(t){return t.position=new y(e),b(),t}}function y(e){this.start=e,this.end={line:f,column:p},this.source=u.source}y.prototype.content=e;var h=[];function v(t){var n=new Error(u.source+":"+f+":"+p+": "+t);if(n.reason=t,n.filename=u.source,n.line=f,n.column=p,n.source=e,!u.silent)throw n;h.push(n)}function g(t){var n=t.exec(e);if(n){var r=n[0];return d(r),e=e.slice(r.length),n}}function b(){g(r)}function T(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;s!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,s===e.charAt(n-1))return v("End of comment missing");var r=e.slice(2,n-2);return p+=2,d(r),e=e.slice(n),p+=2,t({type:"comment",comment:r})}}function O(){var e=m(),n=g(o);if(n){if(x(),!g(a))return v("property missing ':'");var r=g(i),u=e({type:"declaration",property:l(n[0].replace(t,s)),value:r?l(r[0].replace(t,s)):s});return g(c),u}}return b(),function(){var e,t=[];for(T(t);e=O();)!1!==e&&(t.push(e),T(t));return t}()}},8262:function(e,t,n){"use strict";var r=n(3586);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},3980:function(e,t,n){e.exports=n(8262)()},3586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1618:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=r(n(5653)),a=n(1380);t.default=function(e,t){var n={};return e&&"string"==typeof e?(o.default(e,(function(e,r){e&&r&&(n[a.camelCase(e,t)]=r)})),n):n}},1380:function(e,t){"use strict";t.__esModule=!0,t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,o=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,i=function(e,t){return t.toUpperCase()},c=function(e,t){return t+"-"};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||o.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),t.reactCompat||(e=e.replace(a,c)),e.replace(r,i))}},5653:function(e,t,n){var r=n(6299);e.exports=function(e,t){var n,o=null;if(!e||"string"!=typeof e)return o;for(var a,i,c=r(e),u="function"==typeof t,s=0,l=c.length;s<l;s++)a=(n=c[s]).property,i=n.value,u?t(a,i,n):i&&(o||(o={}),o[a]=i);return o}},6508:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=n(8379);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){Object.keys(e).forEach((function(n){var c,u,s,l;c=n,u=e[n],s=void 0===t?"":t,l=Array.from(document.querySelectorAll("".concat(s,'[data-react-component="').concat(c,'"]'))).filter((function(e){var t=e;return!t.dataset.componentInitialized&&(t.dataset.componentInitialized=!0,!0)})),Array.from(l).forEach((function(e){return function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.dataset);(n=function(e){var t=e;return Object.keys(t).forEach((function(e){var n=t[e];if("true"===n)return t[e]=!0,n;if("false"===n)return t[e]=!1,n;if("string"==typeof n&&("{"===n[0]||"["===n[0]))try{var r=JSON.parse(n);"object"===o(r)&&(t[e]=r)}catch(e){return n}return n})),t}(n)).innerHTML=t.innerHTML,n.elementTarget=t,"local"===nbc.env&&console.log("Render react component",e,n,t),(0,a.render)(a.default.createElement(e,n),t)}(u,e)}))}))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function m(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var h=n(3980),v=n.n(h),g=n(7856),b=n.n(g),T=n(2670),x=(T.domToReact,T.htmlToDOM,T.attributesToProps,T.Element,T),O=n(5368),w=n.n(O);var E=function(e){d(i,e);var t,n,o=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function i(){var e;u(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r(f(e=o.call.apply(o,[this].concat(n))),"state",{expanded:!1}),e}return l(i,[{key:"render",value:function(){var e=this.props.children,t=this.state.expanded;return t||"true"!==this.props.expanded||(t=!0),a.default.createElement("span",{className:"truncate__wrap"},a.default.createElement("span",{className:"truncate__text"},x(w().sanitize(e))))}}]),i}(a.Component);r(E,"defaultProps",{expanded:"false",children:""}),r(E,"propTypes",{expanded:h.PropTypes.string,children:h.PropTypes.node});var C=E;var _=wp.i18n.__,S=function(e){d(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function o(){return u(this,o),r.apply(this,arguments)}return l(o,[{key:"render",value:function(){var e,t,n=this.props,r=n.maxlines,o=n.maxlinesmobile,i=n.readmore,c=n.readLess,u=n.text,s=n.ellipsis,l=n.expanded,f=(e=r,t=o,parseInt(window.innerWidth<600?t:e,10)),p=u.toString().replace(/\\\/|\/\\/g,"/");return"true"!==s?a.default.createElement(C,{expanded:l,lines:f,more:i,less:c,anchorClass:"readmore",onClick:this.executeOnClick},p):a.default.createElement(b(),{element:"span",line:parseInt(r,10),truncateText:"...",text:u})}}]),o}(a.Component);r(S,"propTypes",{expanded:v().string,maxlines:v().string.isRequired,maxlinesmobile:v().string.isRequired,readmore:v().string.isRequired,text:v().string.isRequired,ellipsis:v().string,readLess:v().string}),r(S,"defaultProps",{expanded:"false",ellipsis:"false",readLess:_("Read less","nbc")});var P,j=window.matchMedia("screen and (max-width: 767px)").matches,R=function(e){d(i,e);var t,n,o=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function i(){var e;u(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r(f(e=o.call.apply(o,[this].concat(n))),"state",{articles:!1}),e}return l(i,[{key:"componentDidMount",value:function(){j&&this.fetchArticles()}},{key:"fetchArticles",value:function(){var e,t=this,n=this.props.includeSponsored,r=wp.apiFetch,o="/wp-content/themes/nbc-station/static/top-stories-sponsor-test.json",a="/nbc/v1/top-stories",i=nbc.dataLayer,c=(i=void 0===i?{}:i).section,u=void 0===c?"":c,s=i.sponsored;e=!n||void 0!==s&&s?"?section=".concat(u):"?include_sponsored=1&section=".concat(u),o="".concat(o).concat(e),a="".concat(a).concat(e),"local"===nbc.env||"develop"===nbc.env?r({url:o}).then((function(e){t.setState({articles:e})})):r({path:a}).then((function(e){t.setState({articles:e})}))}},{key:"render",value:function(){var e=this.state.articles;if(!e||e.length<5)return null;var t=e[4];return"sponsored"===t.type?a.default.createElement(a.Fragment,null,i.renderArticle(t)):null}}],[{key:"renderArticle",value:function(e){var t=wp.i18n.__,n=e.thumbnail_url,r=e.link,o=e.title,i=e.presented_by,c=x(w().sanitize(o));return a.default.createElement(a.Fragment,null,a.default.createElement("div",{className:"post__image__wrap"},n&&0!==n.length&&a.default.createElement("a",{href:r},a.default.createElement("img",{className:"post__image",src:"".concat(n,"&resize=185%2C104"),alt:c}))),a.default.createElement("div",{className:"post__content"},a.default.createElement("h4",{className:"post__sponsor"},t("Sponsored","nbc")),a.default.createElement("div",{className:"post__title"},a.default.createElement("a",{href:r},a.default.createElement(S,{"aria-label":"post title",ellipsis:"true",maxlines:"3",maxlinesmobile:"3",readmore:"",text:c}))),""!==i&&a.default.createElement("div",{className:"post__presented_by"},x(w().sanitize(i)))))}}]),i}(a.Component);r(R,"propTypes",{includeSponsored:v().bool}),r(R,"defaultProps",{includeSponsored:!1}),P=function(){c({NativeSponsor:R})},"complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",P):P()},7856:function(e,t,n){"use strict";var r,o,a;o=[t,n(8379),n(3980)],r=function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n),a=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){return Math.abs(e-t)<1e-4},v=function(e){function t(){var e,n;s(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return y(d(n=f(this,(e=p(t)).call.apply(e,[this].concat(o)))),"onResize",(function(){n.rafId&&window.cancelAnimationFrame(n.rafId),n.rafId=window.requestAnimationFrame(n.update.bind(d(n)))})),y(d(n),"onToggled",(function(e){"function"==typeof n.props.onToggled&&setTimeout((function(){return n.props.onToggled(e)}),0)})),y(d(n),"onTruncated",(function(){"function"==typeof n.props.onTruncated&&setTimeout((function(){return n.props.onTruncated()}),0)})),y(d(n),"onCalculated",(function(){"function"==typeof n.props.onCalculated&&setTimeout((function(){return n.props.onCalculated()}),0)})),y(d(n),"update",(function(){var e=window.getComputedStyle(n.scope),t=[e["font-weight"],e["font-style"],e["font-size"],e["font-family"],e["letter-spacing"]].join(" ");n.canvas.font=t,n.forceUpdate()})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),n=window.getComputedStyle(this.scope),r=[n["font-weight"],n["font-style"],n["font-size"],n["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=r,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return this.canvas.measureText(e).width}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.element,e.line),r=(e.onCalculated,e.onTruncated,e.onToggled,e.text),a=e.textElement,i=e.textTruncateChild,c=e.truncateText,s=e.maxCalculateTimes,l=u(e,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),f=this.scope.getBoundingClientRect().width;if(0===f)return null;var p=this.measureWidth(r);if(f>p||h(f,p))return this.onToggled(!1),(0,n.createElement)(a,l,r);var d="";if(i&&"string"==typeof i.type){var m=i.type;(m.indexOf("span")>=0||m.indexOf("a")>=0)&&(d=i.props.children)}for(var y=1,v=r.length,g="",b=0,T=0,x=t,O=0,w=!1,E=!1,C=0,_=-1,S="",P=0;x-- >0;){for(S=x?"":c+(d?" "+d:"");y<=v;){if(g=r.substr(T,y),!((O=this.measureWidth(g+S))<f)){do{if(P++>=s)break;g=r.substr(T,y),x||y--," "===g[g.length-1]&&(g=r.substr(T,y-1)),w&&(_=g.lastIndexOf(" "))>-1?(y=_,x&&y++,g=r.substr(T,y)):(y--,g=r.substr(T,y)),O=this.measureWidth(g+S)}while((O>f||h(O,f))&&g.length>0);T+=y;break}-1===(b=r.indexOf(" ",y+1))?(y+=1,w=!1):(w=!0,y=b)}if(y>=v){T=v;break}w&&!E&&-1===r.substr(C,y).indexOf(" ")&&(E=-1===r.substr(C,y).indexOf(" "),x--),C=y+1}return T===v?(this.onToggled(!1),(0,n.createElement)(a,l,r)):(this.onTruncated(),this.onToggled(!0),o.default.createElement("span",l,(0,n.createElement)(a,l,r.substr(0,T)+c+" "),i))}},{key:"render",value:function(){var e=this,t=this.props,r=t.element,o=t.text,a=t.style,i=void 0===a?{}:a,c=t.containerClassName,s=t.line,l=(t.onCalculated,t.onTruncated,t.onToggled,t.textElement),f=(t.textTruncateChild,t.truncateText,t.maxCalculateTimes,u(t,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"])),p=i.fontWeight,d=i.fontStyle,m=i.fontSize,y=i.fontFamily,h=this.scope&&s?this.getRenderText():(0,n.createElement)(l,f,o),v={ref:function(t){e.scope=t},className:c,style:{overflow:"hidden",fontWeight:p,fontStyle:d,fontSize:m,fontFamily:y}};return this.scope&&this.onCalculated(),(0,n.createElement)(r,v,h)}}])&&l(r.prototype,a),i&&l(r,i),t;var r,a,i}(n.Component);y(v,"propTypes",{containerClassName:a.default.string,element:a.default.string,line:a.default.oneOfType([a.default.number,a.default.bool]),onCalculated:a.default.func,onTruncated:a.default.func,onToggled:a.default.func,text:a.default.string,textElement:a.default.elementType,textTruncateChild:a.default.node,truncateText:a.default.string,maxCalculateTimes:a.default.number}),y(v,"defaultProps",{element:"div",line:1,text:"",textElement:"span",truncateText:"…",maxCalculateTimes:10}),t.default=v,e.exports=t.default},void 0===(a=r.apply(t,o))||(e.exports=a)}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,o,a){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],a=e[l][2];for(var c=!0,u=0;u<n.length;u++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(c=!1,a<i&&(i=a));if(c){e.splice(l--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,o,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={8596:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],c=n[1],u=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var l=u(r)}for(t&&t(n);s<i.length;s++)a=i[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},n=self.webpackChunknbc_station=self.webpackChunknbc_station||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[8592],(function(){return r(6508)}));o=r.O(o)}();
//# sourceMappingURL=nativeSponsor.ddc3a9126a2405053928.bundle.min.js.map